<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"> 

<h:head>
	<title>#{msg['donateMoney.donate_money']}</title>
	<meta charset="utf-8"/>
	<f:metadata>
		<f:viewParam name="bgColor" id="bgColor" value="#{donateMoneyController.bgColor}">
			<f:validateRegex pattern="[A-Fa-f0-9]{6}"></f:validateRegex>
		</f:viewParam>
		<f:viewParam name="textColor" id="textColor" value="#{donateMoneyController.textColor}">
			<f:validateRegex pattern="[A-Fa-f0-9]{6}"></f:validateRegex>
		</f:viewParam>
		<f:viewParam name="campaignId" id="campaignId" converter="javax.faces.Long" value="#{donateMoneyController.campaignId}">
		</f:viewParam>
	</f:metadata>
</h:head> 
<h:body style="margin:0; font-family: Verdana, sans-serif; font-size: 0.9em; background-color: ##{donateMoneyController.bgColor}; color: ##{donateMoneyController.textColor}"> 
	<h1>#{msg['donateMoney.donate_money']}</h1>
	<p:messages globalOnly="true" closable="true"/>
	<p:message for="bgColor"/>	
	<p:message for="textColor"/>	
	<p:message for="campaignId"/>
	<h:form>
		<h:panelGrid columns="3">
			<h:outputLabel value="#{msg['donateMoney.name']}:">
			</h:outputLabel>
			<p:inputText value="#{donateMoneyController.donation.donorName}" id="name">
				<f:validateRequired/>
			</p:inputText>
			<p:message for="name"/>
			<h:outputLabel value="#{msg['donateMoney.iban']}:">
			</h:outputLabel>
			<p:inputText value="#{donateMoneyController.donation.account.iban}" id="iban">
				<f:validateRequired/>
			</p:inputText>
			<p:message for="iban"/>
			<h:outputLabel value="#{msg['donateMoney.name_of_bank']}:">
			</h:outputLabel>
			<p:inputText value="#{donateMoneyController.donation.account.nameOfBank}" id="name_bank">
				<f:validateRequired/>
			</p:inputText>
			<h:message for="name_bank" style="color: red;"/>
			<h:outputLabel value="#{msg['donateMoney.donation_amount']}:">
			</h:outputLabel>
			<h:panelGroup>
				<p:inputText value="#{donateMoneyController.donation.amount}" id="donationAmount">
					<f:validateRequired/>
					<f:convertNumber maxFractionDigits="2" minFractionDigits="2"/>
				</p:inputText> EUR
			</h:panelGroup>
			<p:message for="donationAmount"/>
		</h:panelGrid>
		<p:selectBooleanCheckbox value="#{donateMoneyController.donation.receiptRequested}"/>
		#{msg['donateMoney.i_want_a_receipt']}<br/>
		<p:commandButton action="#{donateMoneyController.doDonation()}" value="#{msg['donateMoney.donate']}" ajax="false"/>
	</h:form>	
</h:body> 
</html>
